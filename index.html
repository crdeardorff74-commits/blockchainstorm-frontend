<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>TaNTЯiS</title>
	
	<meta name="description" content="Play TaNTЯiS, a revolutionary twist on classic Tetris. Journey through the solar system, survive cosmic disasters, and compete on global leaderboards. Free browser game.">
	<meta name="keywords" content="Tetris, block puzzle game, falling blocks, free online game, browser game, puzzle game, AI game, space game">
	<meta name="robots" content="index, follow">
	<link rel="canonical" href="https://blockchainstorm.official-intelligence.art/">

	<!-- Open Graph -->
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://tantris.official-intelligence.art/">
	<meta property="og:title" content="TaNTЯiS - Free Online Falling Blocks Game">
	<meta property="og:description" content="A revolutionary twist on classic Tetris. Journey through the solar system, survive cosmic disasters, and compete on global leaderboards.">
	<meta property="og:image" content="https://res.cloudinary.com/dzlhmwvlx/image/upload/v1764977477/BLOCKCHaiNSTO%D0%AFM_thumb_pceyvy.png">

	<!-- Twitter -->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content="TaNTЯiS - Free Online Falling Blocks Game">
	<meta name="twitter:description" content="A revolutionary twist on classic Tetris. Journey through the solar system and compete on global leaderboards.">
	<meta name="twitter:image" content="https://res.cloudinary.com/dzlhmwvlx/image/upload/v1764977477/BLOCKCHaiNSTO%D0%AFM_thumb_pceyvy.png">
    
    <!-- iOS Standalone Mode (Add to Home Screen) -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TaNTЯiS">
    
    <!-- Android/Chrome PWA -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        html:has(body.game-running), body.game-running {
            overflow: hidden;
        }
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            background: #000;
            font-family: Arial, sans-serif;
            overflow: hidden;
            position: relative;
        }
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            min-height: 100%;
            z-index: 0;
            display: block;
            object-fit: fill;
            border: none;
            margin: 0;
            padding: 0;
        }
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 4vh 1vw 1vh 1vw;
            position: relative;
            z-index: 1;
            height: 7vh;
            box-sizing: border-box;
        }
        .title {
            font-size: 3.5vh;
            font-weight: bold;
            font-family: 'Orbitron', sans-serif;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: none;
            letter-spacing: 0.3vh;
            position: relative;
            z-index: 1;
            filter: drop-shadow(0 0.2vh 0.4vh rgba(255, 215, 0, 0.5))
                    drop-shadow(0 0.4vh 0.8vh rgba(0, 0, 0, 0.7));
            animation: titlePulse 3s ease-in-out infinite;
        }
        @keyframes titlePulse {
            0%, 100% { 
                filter: drop-shadow(0 0.2vh 0.4vh rgba(255, 215, 0, 0.5))
                        drop-shadow(0 0.4vh 0.8vh rgba(0, 0, 0, 0.7));
            }
            50% { 
                filter: drop-shadow(0 0.3vh 0.6vh rgba(255, 215, 0, 0.8))
                        drop-shadow(0 0.4vh 0.8vh rgba(0, 0, 0, 0.7));
            }
        }
        .content-area {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 0 2vw 1vh 2vw;
            position: relative;
            z-index: 1;
            height: calc(93vh - 7vh);
            box-sizing: border-box;
            width: 100%;
            overflow: visible; /* Allow next piece queue to extend beyond */
        }
        .game-container {
            display: flex;
            justify-content: space-between; /* Space between panels */
            align-items: flex-start;
            gap: 2vw; /* Larger gap between panels */
            position: relative;
            z-index: 1;
            height: 100%;
            max-height: 88vh;
            width: 100%; /* Use full width */
            max-width: 100%; /* Prevent overflow */
            margin: 0 auto;
            box-sizing: border-box;
            overflow: visible;
        }
        .main-area {
            background: transparent;
            padding: 0;
            border-radius: 1vh;
            position: relative;
            height: 88vh;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; /* Center content vertically */
            flex-shrink: 0; /* Prevent shrinking */
            flex-grow: 1; /* Allow growing to take available space */
            min-width: 0; /* Allow shrinking below content width */
            overflow: hidden; /* Prevent content from extending beyond bounds */
        }
        /* Allow tooltip overflow when mode menu is visible */
        .main-area:has(.mode-menu:not(.hidden)) {
            overflow: visible;
        }
        canvas {
            border: 0.3vh solid rgba(255, 255, 255, 0.5);
            display: block;
            background: transparent;
            box-shadow: 0 0 2vh rgba(0, 0, 0, 0.5);
            max-height: 88vh;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .vineOverlay {
            border: none !important;
            box-shadow: none !important;
            max-height: none !important;
            transition: none !important;
            pointer-events: none !important;
        }
        .vineWrapper {
            display: inline-block;
            position: relative;
            pointer-events: none;
        }
        .vineWrapper > canvas:first-child {
            pointer-events: auto;
        }
        canvas.tsunami-active {
            border-color: gold;
            box-shadow: 0 0 3vh rgba(255, 215, 0, 0.8), 0 0 1vh rgba(255, 215, 0, 0.6);
            animation: tsunamiPulse 0.5s ease-in-out infinite alternate;
        }
        @keyframes tsunamiPulse {
            from {
                box-shadow: 0 0 3vh rgba(255, 215, 0, 0.8), 0 0 1vh rgba(255, 215, 0, 0.6);
            }
            to {
                box-shadow: 0 0 4vh rgba(255, 215, 0, 1), 0 0 2vh rgba(255, 215, 0, 0.8);
            }
        }
        canvas.blackhole-active {
            border-color: #8b00ff;
            box-shadow: 0 0 3vh rgba(139, 0, 255, 0.9), 0 0 1.5vh rgba(75, 0, 130, 0.7);
            animation: blackholePulse 0.4s ease-in-out infinite alternate;
        }
        @keyframes blackholePulse {
            from {
                box-shadow: 0 0 3vh rgba(139, 0, 255, 0.9), 0 0 1.5vh rgba(75, 0, 130, 0.7);
            }
            to {
                box-shadow: 0 0 5vh rgba(139, 0, 255, 1), 0 0 3vh rgba(75, 0, 130, 0.9), inset 0 0 2vh rgba(139, 0, 255, 0.5);
            }
        }
        canvas.touchdown-active {
            border-color: #00ff00;
            box-shadow: 0 0 3vh rgba(0, 255, 0, 0.9), 0 0 2vh rgba(0, 200, 0, 0.7);
            animation: touchdownPulse 0.3s ease-in-out infinite alternate;
        }
        @keyframes touchdownPulse {
            from {
                box-shadow: 0 0 3vh rgba(0, 255, 0, 0.9), 0 0 2vh rgba(0, 200, 0, 0.7);
            }
            to {
                box-shadow: 0 0 6vh rgba(0, 255, 0, 1), 0 0 4vh rgba(0, 200, 0, 0.9), inset 0 0 2vh rgba(0, 255, 0, 0.5);
            }
        }
        
        /* Nervous mode shake animation */
        @keyframes nervousShake {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-0.5vh, 0.3vh); }
            20% { transform: translate(0.6vh, -0.4vh); }
            30% { transform: translate(-0.4vh, 0.6vh); }
            40% { transform: translate(0.5vh, -0.3vh); }
            50% { transform: translate(-0.6vh, 0.4vh); }
            60% { transform: translate(0.3vh, -0.6vh); }
            70% { transform: translate(-0.4vh, 0.3vh); }
            80% { transform: translate(0.6vh, -0.5vh); }
            90% { transform: translate(-0.3vh, 0.5vh); }
        }
        
        @keyframes nervousShakeLongAgo {
            0%, 100% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translate(0, 0); }
            10% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translate(-0.5vh, 0.3vh); }
            20% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translate(0.6vh, -0.4vh); }
            30% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translate(-0.4vh, 0.6vh); }
            40% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translate(0.5vh, -0.3vh); }
            50% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translate(-0.6vh, 0.4vh); }
            60% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translate(0.3vh, -0.6vh); }
            70% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translate(-0.4vh, 0.3vh); }
            80% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translate(0.6vh, -0.5vh); }
            90% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translate(-0.3vh, 0.5vh); }
        }
        
        @keyframes nervousShakeComingSoon {
            0%, 100% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translate(0, 0); }
            10% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translate(-0.5vh, 0.3vh); }
            20% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translate(0.6vh, -0.4vh); }
            30% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translate(-0.4vh, 0.6vh); }
            40% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translate(0.5vh, -0.3vh); }
            50% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translate(-0.6vh, 0.4vh); }
            60% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translate(0.3vh, -0.6vh); }
            70% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translate(-0.4vh, 0.3vh); }
            80% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translate(0.6vh, -0.5vh); }
            90% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translate(-0.3vh, 0.5vh); }
        }
        
        canvas.nervous-active {
            animation: nervousShake 0.1s infinite linear;
        }
        
        /* When both Nervous and Long Ago are active */
        canvas.nervous-active.longago-mode {
            animation: nervousShakeLongAgo 0.1s infinite linear;
        }
        
        /* When both Nervous and Coming Soon are active */
        canvas.nervous-active.comingsoon-mode {
            animation: nervousShakeComingSoon 0.1s infinite linear;
        }
        
        /* When both Nervous and Thinner are active */
        @keyframes nervousShakeThinner {
            0%, 100% { transform: scaleX(0.6) translateX(0); }
            25% { transform: scaleX(0.6) translateX(-0.3vh); }
            75% { transform: scaleX(0.6) translateX(0.3vh); }
        }
        
        canvas.nervous-active.thinner-mode {
            animation: nervousShakeThinner 0.1s infinite linear;
        }
        
        /* When both Nervous and Thicker are active */
        @keyframes nervousShakeThicker {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-0.3vh); }
            75% { transform: translateX(0.3vh); }
        }
        
        canvas.nervous-active.thicker-mode {
            animation: nervousShakeThicker 0.1s infinite linear;
        }
        
        /* Three-way combinations: Nervous + Thinner + Long Ago */
        @keyframes nervousShakeThinnerLongAgo {
            0%, 100% { transform: perspective(800px) rotateX(45deg) scaleX(0.6) scale(1.5) translateY(-25%) translateX(0); }
            25% { transform: perspective(800px) rotateX(45deg) scaleX(0.6) scale(1.5) translateY(-25%) translateX(-0.3vh); }
            75% { transform: perspective(800px) rotateX(45deg) scaleX(0.6) scale(1.5) translateY(-25%) translateX(0.3vh); }
        }
        
        canvas.nervous-active.thinner-mode.longago-mode {
            animation: nervousShakeThinnerLongAgo 0.1s infinite linear;
        }
        
        /* Three-way combinations: Nervous + Thinner + Coming Soon */
        @keyframes nervousShakeThinnerComingSoon {
            0%, 100% { transform: perspective(800px) rotateX(-45deg) scaleX(0.6) scale(1.5) translateY(25%) translateX(0); }
            25% { transform: perspective(800px) rotateX(-45deg) scaleX(0.6) scale(1.5) translateY(25%) translateX(-0.3vh); }
            75% { transform: perspective(800px) rotateX(-45deg) scaleX(0.6) scale(1.5) translateY(25%) translateX(0.3vh); }
        }
        
        canvas.nervous-active.thinner-mode.comingsoon-mode {
            animation: nervousShakeThinnerComingSoon 0.1s infinite linear;
        }
        
        /* Three-way combinations: Nervous + Thicker + Long Ago */
        @keyframes nervousShakeThickerLongAgo {
            0%, 100% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translateX(0); }
            25% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translateX(-0.3vh); }
            75% { transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%) translateX(0.3vh); }
        }
        
        canvas.nervous-active.thicker-mode.longago-mode {
            animation: nervousShakeThickerLongAgo 0.1s infinite linear;
        }
        
        /* Three-way combinations: Nervous + Thicker + Coming Soon */
        @keyframes nervousShakeThickerComingSoon {
            0%, 100% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translateX(0); }
            25% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translateX(-0.3vh); }
            75% { transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%) translateX(0.3vh); }
        }
        
        canvas.nervous-active.thicker-mode.comingsoon-mode {
            animation: nervousShakeThickerComingSoon 0.1s infinite linear;
        }
        
        .side-panel {
            background: linear-gradient(180deg, rgba(26, 26, 46, 0.74) 0%, rgba(22, 33, 62, 0.74) 100%);
            padding: 1.8vh 1.5vw;
            border-radius: 0.8vh;
            border: 1px solid rgba(255, 255, 255, 0.08);
            color: #e0e0e0;
            width: 22vw;
            min-width: 220px;
            max-width: 27vw;
            display: flex;
            flex-direction: column;
            height: 88vh;
            box-sizing: border-box;
            font-size: 1.5vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            position: relative;
            flex-shrink: 1;
            flex-grow: 0;
            transition: right 0.3s ease, width 0.3s ease;
            overflow: visible;
        }
        
        /* Responsive adjustments for smaller screens */
        @media (max-width: 1400px) {
            .rules-panel, .side-panel {
                width: 20vw;
                min-width: 180px;
            }
            .game-container {
                gap: 1vw;
            }
        }
        
        @media (max-width: 1200px) {
            .rules-panel, .side-panel {
                width: 18vw;
                min-width: 150px;
                font-size: 12px;
            }
            .game-container {
                gap: 0.5vw;
            }
        }
        
        /* Tablet mode - 50% wider panels */
        body.tablet-mode .rules-panel,
        body.tablet-mode .side-panel {
            width: 33vw;
            min-width: 280px;
            max-width: 40vw;
            overflow: visible;
        }
        
        /* Ensure touch controls fit within panel in tablet mode */
        body.tablet-mode #touchControls {
            margin-top: 0.5vh;
            max-height: 20vh;
        }
        
        body.tablet-mode .touch-btn {
            min-height: 4.5vh;
            max-height: 6vh;
        }
        
        /* Minimalist mode styles */
        body.minimalist-mode .rules-panel {
            background: transparent !important;
            box-shadow: none !important;
        }
        
        body.minimalist-mode .rules-instructions {
            display: none !important;
        }
        
        body.minimalist-mode .side-panel {
            background: transparent !important;
            box-shadow: none !important;
        }
        
        body.minimalist-mode .side-panel > *:not(.score-display:first-child):not(.next-piece) {
            visibility: hidden !important;
        }
        
        body.minimalist-mode .side-panel .score-display:first-child {
            visibility: hidden !important;
        }
        
        body.minimalist-mode.game-started .side-panel .score-display:first-child {
            visibility: visible !important;
        }
        
        body.minimalist-mode .side-panel .score-display:first-child .score-label {
            display: none !important;
        }
        
        body.minimalist-mode .side-panel .score-display:first-child #score {
            font-size: 3vh !important;
        }
        
        body.minimalist-mode .next-piece .score-label {
            visibility: hidden !important;
        }
        
        body.minimalist-mode .next-canvas {
            background: transparent !important;
            box-shadow: none !important;
        }
        
        body.minimalist-mode.game-running .header {
            opacity: 0;
            pointer-events: none;
        }
        
        /* Global custom scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(255, 215, 0, 0.3);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 215, 0, 0.5);
        }
        
        .rules-panel {
            background: linear-gradient(180deg, rgba(26, 26, 46, 0.74) 0%, rgba(22, 33, 62, 0.74) 100%);
            padding: 1.6vh 1vw;
            border-radius: 0.8vh;
            border: 1px solid rgba(255, 255, 255, 0.08);
            color: #e0e0e0;
            width: 22vw;
            min-width: 220px;
            max-width: 27vw;
            height: 88vh;
            box-sizing: border-box;
            overflow: visible;
            font-size: 1.4vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            display: flex;
            flex-direction: column;
            gap: 0.7vh;
            position: relative;
            z-index: 5;
            flex-shrink: 1;
            flex-grow: 0;
            transition: left 0.3s ease, width 0.3s ease;
        }
        
        .rules-instructions {
            display: block;
            overflow-y: auto;
            flex-shrink: 1;
            max-height: 100%;
            color: #ccc;
            line-height: 1.5;
        }
        
        .rules-instructions strong {
            color: #fff;
        }
        
        /* When histogram is visible, limit instructions height */
        .rules-panel:has(.histogram-canvas[style*="display: block"]) .rules-instructions {
            max-height: 0;
            overflow: hidden;
            padding: 0;
            margin: 0;
        }
        .histogram-canvas {
            width: 100%;
            flex: 1; /* Take available space */
            min-height: 30vh; /* Ensure minimum height for histograms */
            display: none; /* Hidden by default, shown during gameplay */
            border: none; /* Remove any border */
            box-shadow: none; /* Remove drop shadow */
            background: transparent; /* Explicit transparent background */
        }
        
        /* Touch Controls for Tablet Mode */
        #touchControls {
            display: none; /* Hidden by default, shown in tablet mode */
            grid-template-columns: repeat(6, 1fr); /* 6 columns for easy 50/50 bottom split */
            grid-template-rows: auto auto auto;
            column-gap: 0.5vh; /* Horizontal gap between buttons */
            row-gap: 0.5vh; /* Match vertical gap to horizontal */
            padding: 0.5vh;
            margin-top: 1vh;
            height: auto;
            max-height: 22vh;
        }
        
        .touch-btn {
            background: linear-gradient(180deg, #2a2a3a 0%, #1a1a2a 100%);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            color: #e0e0e0;
            font-size: 3.2vh;
            font-weight: 600;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
            -webkit-user-select: none;
            transition: all 0.1s;
            padding: 0;
            min-height: 5vh;
            max-height: 6.5vh;
        }
        
        .touch-btn:active {
            background: linear-gradient(180deg, #3d5a80 0%, #2d4a70 100%);
            border-color: #6eb5ff;
            transform: scale(0.96);
        }
        
        /* Row 1: Single ROTATE CCW button spanning all 6 columns */
        .touch-btn.touch-btn-rotate-ccw {
            grid-column: 1 / 7;
            grid-row: 1 / 2;
        }
        
        /* Row 2: Three buttons, each spanning 2 columns (2+2+2 = 6) */
        .touch-btn.touch-btn-left {
            grid-column: 1 / 3;
            grid-row: 2 / 3;
        }
        
        .touch-btn.touch-btn-rotate {
            grid-column: 3 / 5;
            grid-row: 2 / 3;
        }
        
        .touch-btn.touch-btn-right {
            grid-column: 5 / 7;
            grid-row: 2 / 3;
        }
        
        /* Row 3: Two buttons, each spanning 3 columns (3+3 = 6, perfect 50/50 split) */
        .touch-btn.touch-btn-down {
            grid-column: 1 / 4;
            grid-row: 3 / 4;
        }
        
        .touch-btn.touch-btn-drop {
            grid-column: 4 / 7;
            grid-row: 3 / 4;
        }
        
        /* Pause Button (top-right corner during tablet mode gameplay) */
        .pause-btn {
            display: none; /* Hidden by default */
            position: absolute;
            top: 1vh;
            right: 1.5vw;
            padding: 1vh 1.5vw;
            font-size: 2.5vh;
            background: rgba(30, 60, 120, 0.9);
            color: white;
            border: 0.3vh solid rgba(255, 255, 255, 0.6);
            border-radius: 0.8vh;
            cursor: pointer;
            transition: all 0.1s;
            z-index: 9999;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }
        
        .pause-btn:hover {
            background: rgba(50, 100, 180, 1);
            border-color: #FFD700;
        }
        
        .pause-btn:active {
            transform: scale(0.95);
        }
        
        /* Planet Stats in Left Panel (Tablet Mode) */
        #planetStatsLeft {
            display: none; /* Hidden by default, shown in tablet mode */
            margin-top: 0;
            padding: 0.7vh 0.6vw;
            background: rgba(26, 26, 46, 0.8);
            border-radius: 0.5vh;
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 1vh;
            color: #ccc;
            max-height: 12vh;
            overflow-y: auto;
            flex-shrink: 0;
        }
        
        #planetStatsLeftContent {
            font-size: 1vh;
            line-height: 1.2;
        }
        
        .rules-title {
            font-size: 2vh;
            font-weight: 600;
            margin-bottom: 0.4vh;
            text-align: center;
            color: #fff;
        }
        .rules-section {
            margin-bottom: 10px;
            font-size: clamp(10.56px, 1.37vh, 14.78px);
            line-height: 1.3;
        }
        .rules-section h3 {
            font-size: clamp(12.67px, 1.58vh, 16.9px);
            margin-bottom: 6px;
            color: #6eb5ff;
        }
        .rules-section ul {
            margin: 4px 0;
            padding-left: 15px;
        }
        .rules-section li {
            margin-bottom: 3px;
        }
		.rules-section div {
			padding: 0 0 12px;
		}
        .tsunami-scoring {
            display: inline-block;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .score-display {
            font-size: 2.6vh;
            margin-bottom: 0.6vh;
            color: #fff;
        }
        .score-display > div:not(.score-label) {
            text-align: center;
        }
        .score-label {
            font-size: 1.3vh;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 0.05vh;
            text-align: left;
        }
        
        /* Special Events Grid - 2 columns */
        .special-events-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            column-gap: 1vw;
            row-gap: 0.8vh;
            margin-top: 1.8vh;
        }
        .special-events-grid .score-display {
            margin-bottom: 0;
            font-size: 2.2vh;
        }
        
        .next-piece {
            margin-top: 0.4vh;
            margin-bottom: 0.4vh;
            flex-shrink: 0;
            overflow: visible;
            position: relative;
            z-index: 100;
        }
        .next-piece .score-label {
            text-align: left;
        }
        .next-canvas-wrapper {
            width: 180px;
            height: 180px;
            border-radius: 0.5vh;
            margin-top: 2.6vh;
            margin-bottom: 0.4vh;
            position: relative;
            overflow: visible;
        }
        .next-canvas {
            position: absolute;
            bottom: 0;
            left: 0;
            z-index: 100;
            border: none;
            background: transparent;
            box-shadow: none;
            max-height: none;
            /* Crisp pixel rendering to prevent lines in fullscreen */
            image-rendering: -moz-crisp-edges;
            image-rendering: -webkit-crisp-edges;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
        .controls {
            font-size: 1.3vh;
            line-height: 1.6;
            flex-grow: 0;
            flex-shrink: 0;
            overflow-y: auto;
            transition: opacity 0.3s ease-in-out;
            color: #ccc;
        }
        
        /* Bottom section wrapper - pushes planet stats and music to bottom */
        .side-panel-bottom {
            margin-top: auto;
            display: flex;
            flex-direction: column;
        }
        .controls > div:not(.controls-title) {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1ch;
        }
        .controls .control-key {
            text-align: right;
            color: #aaa;
        }
        .controls > div:not(.controls-title) > span:last-child {
            text-align: left;
        }
        .controls-title {
            margin-bottom: 0.5vh;
            text-align: left;
            color: #fff;
            font-weight: 600;
        }
        button {
            margin-top: 20px;
            padding: 10px 24px;
            font-size: 14px;
            font-weight: 500;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #3d7dd4;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }
        button:hover {
            background: #4a8de4;
        }
        .game-over {
            position: fixed;
            top: 12%;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.66) 0%, rgba(22, 33, 62, 0.66) 100%);
            color: #e0e0e0;
            padding: 20px 36px;
            border-radius: 8px;
            text-align: center;
            font-size: 18px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            display: none;
            min-width: 200px;
            z-index: 1001;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        /* End Credits Overlay */
        .credits-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            overflow: hidden;
            z-index: 998;
            font-family: 'Futura', 'Arial', 'Century Gothic', 'Trebuchet MS', sans-serif;
        }
        
        .credits-scroll {
			display: flex;
			justify-content: center;
            position: absolute;
            width: 100%;
            color: white;
        }
        
        .credits-content {
            padding: 20px;
            text-align: center;
			max-width: 34%;
        }
        
        .credits-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 60px;
            color: #FFD700;
        }
		
		.credits-ai {
			color: #FFFAAA;
		}
        
        .credits-section {
            margin-bottom: 40px;
        }
        
        .credits-row {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 8px;
            font-size: 18px;
        }
        
        .credits-role {
            width: 420px;
            text-align: left;
            color: #aaa;
			padding-left: 50px;
        }
        
        .credits-name {
            width: 230px;
            text-align: left;
            color: #fff;
        }
        
        .credits-thanks {
            font-size: 18px;
            color: #FFD700;
            margin: 60px 0;
        }
        
        .credits-disclaimer {
            font-size: 16px;
            color: #aaa;
            margin: 15px 0;
        }
		
		.credits-disclaimer p {
            text-align: left;
			text-indent: 2em;
			margin: 0;
		}
        
        .credits-copyright {
            font-size: 18px;
            color: #aaa;
            margin-top: 60px;
        }
        
        .credits-link {
            font-size: 16px;
            color: #4da6ff;
            margin-top: 15px;
        }
        
        .credits-easter {
            font-size: 1.88vh;
            color: #666;
            font-style: italic;
        }
        
        .credits-spacer {
            height: 24vh;
        }
        
        .credits-spacer-large {
            height: 42vh;
        }
        
        .credits-spacer-final {
            height: 100vh;
        }
		
        .start-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }
        .start-message {
            text-align: center;
            color: white;
            font-size: 32px;
            font-weight: bold;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            position: relative;
            height: 120px;
            min-height: 120px;
            display: flex;
            align-items: flex-start;
            justify-content: center;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.05); }
        }
        .letter {
            display: inline-block;
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
        }
        .letter.animating {
            animation: letterFloat 2s ease-in-out;
        }
        @keyframes letterFloat {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(var(--tx1), var(--ty1)) rotate(var(--r1)); }
            50% { transform: translate(var(--tx2), var(--ty2)) rotate(var(--r2)); }
            75% { transform: translate(var(--tx3), var(--ty3)) rotate(var(--r3)); }
        }
        
        /* Intro screen controls */
        .intro-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            margin-top: 20px;
        }
        .intro-toggle {
            display: flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(180deg, #2a2a3a 0%, #1a1a2a 100%);
            padding: 12px 20px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: 280px;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.15s;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        .intro-toggle:hover {
            background: linear-gradient(180deg, #3a3a4a 0%, #2a2a3a 100%);
            border-color: rgba(110, 181, 255, 0.3);
        }
        .intro-toggle-label {
            color: #ccc;
            font-size: 14px;
            font-weight: 500;
        }
        .intro-toggle .toggle-switch {
            flex-shrink: 0;
        }
        .intro-toggle select {
            flex: 1;
            max-width: 160px;
        }
        .start-game-btn {
            margin-top: 20px;
            padding: 16px 44px;
            font-size: 18px;
            font-weight: 600;
            background: linear-gradient(135deg, #3d7dd4 0%, #2d6dc4 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.15s;
            box-shadow: 0 4px 20px rgba(61, 125, 212, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        .start-game-btn:hover {
            background: linear-gradient(135deg, #4a8de4 0%, #3d7dd4 100%);
            transform: translateY(-1px);
            box-shadow: 0 6px 25px rgba(61, 125, 212, 0.4);
        }
        .start-game-btn:active {
            transform: translateY(0);
        }
        .login-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 18px;
            font-size: 13px;
            font-weight: 500;
            background: #2a2a3a;
            color: #ccc;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.15s;
            z-index: 10;
            pointer-events: auto;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        .login-btn:hover {
            background: #3a3a4a;
            border-color: rgba(110, 181, 255, 0.3);
            color: #fff;
        }
        .login-btn.hidden {
            display: none;
        }
        
        /* Login Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 10000;
            display: none;
            justify-content: center;
            align-items: center;
        }
        .modal-overlay.active {
            display: flex;
        }
        .auth-modal {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 28px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
            min-width: 320px;
            max-width: 400px;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        .auth-modal h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 22px;
            font-weight: 600;
            color: #6eb5ff;
        }
        .modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: #888;
            font-size: 28px;
            cursor: pointer;
            opacity: 0.7;
        }
        .modal-close:hover {
            opacity: 1;
            color: #fff;
        }
        .auth-modal .form-group {
            margin-bottom: 15px;
        }
        .auth-modal label {
            display: block;
            margin-bottom: 6px;
            font-size: 11px;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .auth-modal input[type="text"],
        .auth-modal input[type="email"],
        .auth-modal input[type="password"] {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            background: #2a2a3a;
            color: #e0e0e0;
            font-size: 14px;
            box-sizing: border-box;
            font-family: inherit;
        }
        .auth-modal input:focus {
            outline: none;
            border-color: #6eb5ff;
            box-shadow: 0 0 0 3px rgba(110, 181, 255, 0.15);
        }
        .auth-submit-btn {
            width: 100%;
            padding: 12px;
            font-size: 14px;
            font-weight: 500;
            background: #3d7dd4;
            color: #fff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            letter-spacing: 0.5px;
            font-family: inherit;
            transition: background 0.15s;
        }
        .auth-submit-btn:hover {
            background: #4a8de4;
        }
        .auth-divider {
            text-align: center;
            margin: 20px 0;
            color: #666;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .oauth-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            padding: 12px;
            background: #fff;
            color: #333;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            font-family: inherit;
            transition: background 0.15s;
        }
        .oauth-btn:hover {
            background: #f5f5f5;
        }
        .auth-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 13px;
            color: #888;
        }
        .auth-footer a {
            color: #6eb5ff;
            text-decoration: none;
            margin-left: 5px;
        }
        .auth-footer a:hover {
            text-decoration: underline;
        }
        .error-message {
            background: rgba(255, 100, 100, 0.2);
            border: 1px solid rgba(255, 100, 100, 0.5);
            color: #ff6b6b;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-size: 14px;
            display: none;
        }
        
        .settings-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 2vh 2vw;
            box-sizing: border-box;
        }
        .settings-popup {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 1vh 1.8vw;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
            min-width: 30vw;
            max-width: 90vw;
            max-height: 92vh;
            overflow-y: auto;
            overflow-x: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            font-size: 14px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        .settings-columns {
            display: flex;
            gap: 1.5vw;
        }
        .settings-column-left {
            flex: 1;
            min-width: 240px;
        }
        .settings-column-right {
            flex: 0 0 auto;
            min-width: 160px;
            max-width: 220px;
            border-left: 1px solid rgba(255, 255, 255, 0.08);
            padding-left: 1.5vw;
        }
        @media (max-width: 800px) {
            .settings-columns {
                flex-direction: column;
            }
            .settings-column-right {
                border-left: none;
                border-top: 1px solid rgba(255, 255, 255, 0.08);
                padding-left: 0;
                padding-top: 1.5vh;
                margin-top: 1vh;
                max-width: none;
            }
        }
        .settings-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 0.8vh;
            text-align: center;
            color: #fff;
            letter-spacing: 0.5px;
        }
        .settings-option {
            margin-bottom: 0.15vh;
            padding: 0.55vh 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        .settings-option:last-child {
            border-bottom: none;
        }
        .settings-option label {
            cursor: pointer;
            display: flex;
            align-items: center;
            font-size: 14px;
            color: #ccc;
        }
        .settings-option label:hover {
            color: #fff;
        }
        .settings-option input[type="checkbox"] {
            width: 2vh;
            height: 2vh;
            margin-right: 1.2vw;
            cursor: pointer;
            display: none;
        }
        
        /* Toggle Switch - cleaner style */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 36px;
            height: 20px;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #3a3a4a;
            transition: all 0.2s ease;
            border-radius: 10px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: #888;
            transition: all 0.2s ease;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: #3d7dd4;
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(16px);
            background-color: #fff;
        }
        
        .toggle-slider:hover {
            background-color: #4a4a5a;
        }
        
        input:checked + .toggle-slider:hover {
            background-color: #4a8de4;
        }
        
        /* Label adjustment for toggle switches */
        .settings-option label.toggle-label {
            cursor: pointer;
            display: flex;
            align-items: center;
            font-size: 14px;
            justify-content: space-between;
        }
        
        .toggle-label-text {
            flex-grow: 1;
        }
        .settings-option input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            height: 4px;
            background: #3a3a4a;
            border-radius: 2px;
            outline: none;
        }
        .settings-option input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #3d7dd4;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #fff;
        }
        .settings-option input[type="range"]::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: #3d7dd4;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #fff;
        }
        .settings-close-btn {
            width: 100%;
            margin-top: 0.6vh;
            padding: 8px 16px;
            font-size: 14px;
            background: #3d7dd4;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
            font-weight: 500;
        }
        .settings-close-btn:hover {
            background: #4a8de4;
        }
        
        /* Settings description text */
        .settings-description {
            font-size: 11px;
            color: #888;
            margin-top: 4px;
            margin-left: 48px;
        }
        
        /* Challenge dropdown styles */
        .settings-option select {
            width: 100%;
            padding: 8px 10px;
            font-size: 14px;
            background: #2a2a3a;
            color: #e0e0e0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            cursor: pointer;
            margin-top: 8px;
        }
        .settings-option select:hover {
            border-color: rgba(255, 255, 255, 0.2);
        }
        .settings-option select option {
            background: #2a2a3a;
            color: #e0e0e0;
        }
        
        /* Responsive adjustments for small screens */
        @media (max-height: 850px) {
            .settings-popup {
                padding: 1vh 1.5vw;
            }
            .settings-title {
                font-size: 17px;
                margin-bottom: 0.5vh;
            }
            .settings-option {
                margin-bottom: 0;
                padding: 0.35vh 0;
            }
            .settings-desc {
                display: none; /* Hide descriptions earlier */
            }
            .settings-divider {
                margin: 5px 0;
            }
            .settings-close-btn {
                margin-top: 0.5vh;
                padding: 6px 14px;
            }
        }
        @media (max-height: 700px) {
            .settings-popup {
                padding: 0.8vh 1.5vw;
                font-size: 12px;
            }
            .settings-title {
                font-size: 16px;
                margin-bottom: 0.4vh;
            }
            .settings-option {
                margin-bottom: 0;
                padding: 0.25vh 0;
            }
            .settings-close-btn {
                padding: 5px 12px;
                font-size: 12px;
                margin-top: 0.4vh;
            }
            .controls-config-title {
                margin-bottom: 4px;
            }
            .settings-divider {
                margin: 4px 0;
            }
            .palette-dropdown-button {
                padding: 5px 8px;
            }
        }
        @media (max-height: 600px), (max-width: 600px) {
            .settings-popup {
                padding: 0.6vh 1.2vw;
                font-size: 11px;
                min-width: 50vw;
            }
            .settings-title {
                font-size: 14px;
                margin-bottom: 0.3vh;
            }
            .settings-option {
                margin-bottom: 0;
                padding: 0.2vh 0;
            }
            .settings-option label {
                font-size: 11px;
            }
            .settings-close-btn {
                padding: 4px 10px;
                font-size: 11px;
                margin-top: 0.3vh;
            }
            .toggle-switch {
                transform: scale(0.85);
            }
            .settings-divider {
                margin: 3px 0;
            }
            .palette-dropdown-button {
                padding: 4px 6px;
            }
        }
        
        /* Ensure scrollbar is styled on the settings popup */
        .settings-popup::-webkit-scrollbar {
            width: 6px;
        }
        .settings-popup::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 3px;
        }
        .settings-popup::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }
        .settings-popup::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }
        
        /* Controls Configuration */
        .controls-config-section {
            padding-top: 0;
        }
        .controls-config-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #6eb5ff;
        }
        .controls-section {
            margin-bottom: 8px;
        }
        .controls-section-title {
            font-size: 11px;
            font-weight: 600;
            margin-bottom: 5px;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .control-binding-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 4px;
            padding: 2px 0;
        }
        .control-action-name {
            font-size: 12px;
            color: #aaa;
        }
        .control-binding-btn {
            background: #2a2a3a;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            min-width: 65px;
            cursor: pointer;
            transition: all 0.15s ease;
            font-family: inherit;
        }
        .control-binding-btn:hover {
            background: #3a3a4a;
            border-color: #6eb5ff;
            color: #fff;
        }
        .control-binding-btn.capturing {
            background: rgba(110, 181, 255, 0.2);
            border-color: #6eb5ff;
            animation: pulse-capture 0.8s ease-in-out infinite;
        }
        @keyframes pulse-capture {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        .controls-reset-btn {
            width: 100%;
            padding: 6px;
            margin-top: 10px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: #888;
            border-radius: 4px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.15s ease;
            font-family: inherit;
        }
        .controls-reset-btn:hover {
            background: rgba(255, 100, 100, 0.1);
            border-color: rgba(255, 100, 100, 0.4);
            color: #ff8080;
        }
        
        /* Combo challenge modal */
        .combo-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
        }
        .combo-modal {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 20px 28px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
            min-width: 40vw;
            max-width: 90vw;
            max-height: 82vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        .combo-modal-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
            text-align: center;
            color: #6eb5ff;
        }
        .combo-bonus-display {
            text-align: center;
            font-size: 14px;
            font-weight: 500;
            color: #6eb5ff;
            background: rgba(110, 181, 255, 0.1);
            padding: 8px;
            border-radius: 6px;
            margin-bottom: 12px;
            border: 1px solid rgba(110, 181, 255, 0.2);
        }
        .combo-bonus-display span {
            color: #fff;
            font-size: 16px;
        }
        .combo-checkboxes-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6px 16px;
            margin-bottom: 16px;
        }
        .combo-checkbox-option {
            margin: 0;
            padding: 8px 12px;
            background: transparent;
            border-radius: 6px;
            border: 1px solid transparent;
            transition: all 0.15s;
        }
        .combo-checkbox-option:hover {
            border-color: rgba(110, 181, 255, 0.3);
            background: rgba(110, 181, 255, 0.05);
        }
        .combo-checkbox-option label {
            cursor: pointer;
            display: flex;
            align-items: center;
            font-size: 13px;
            color: #ccc;
        }
        .combo-checkbox-option input[type="checkbox"] {
            display: none;
        }
        .combo-checkbox-option .toggle-switch {
            position: relative;
            display: inline-block;
            width: 28px;
            height: 16px;
            margin-right: 10px;
            flex-shrink: 0;
        }
        .combo-checkbox-option .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #3a3a4a;
            transition: all 0.2s ease;
            border-radius: 8px;
        }
        .combo-checkbox-option .toggle-slider:before {
            position: absolute;
            content: "";
            height: 12px;
            width: 12px;
            left: 2px;
            bottom: 2px;
            background-color: #888;
            transition: all 0.2s ease;
            border-radius: 50%;
        }
        .combo-checkbox-option input:checked + .toggle-slider {
            background-color: #3d7dd4;
        }
        .combo-checkbox-option input:checked + .toggle-slider:before {
            transform: translateX(12px);
            background-color: #fff;
        }
        .combo-checkbox-option .challenge-description {
            font-size: 11px;
            color: #888;
            margin-top: 4px;
            margin-left: 38px;
        }
        .combo-modal-buttons {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            position: sticky;
            bottom: 0;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding-top: 12px;
        }
        .combo-modal-btn {
            flex: 1;
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 500;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.15s;
            font-family: inherit;
        }
        .combo-modal-btn.apply {
            background: #3d7dd4;
            color: white;
        }
        .combo-modal-btn.apply:hover {
            background: #4a8de4;
        }
        .combo-modal-btn.cancel {
            background: #3a3a4a;
            color: #ccc;
        }
        .combo-modal-btn.cancel:hover {
            background: #4a4a5a;
            color: #fff;
        }
        
        /* Upside-down mode */
        html.stranger-mode {
            transform: rotate(180deg);
        }
        
        /* Thinner mode - make canvas narrower */
        canvas.thinner-mode {
            transform: scaleX(0.6);
        }
        
        /* Thicker mode - canvas dimensions handled by JavaScript updateCanvasSize() */
        canvas.thicker-mode {
            /* Dimensions set via style attribute in updateCanvasSize() */
            /* This creates actual layout space unlike transform */
            margin: auto; /* Center the canvas */
        }
        
        /* Allow main area to properly center the thicker canvas */
        body:has(canvas.thicker-mode) .main-area {
            overflow: visible; /* Allow scaled canvas to extend beyond */
            padding: 1vh 0.25vw; /* Reduce side padding */
            z-index: 10; /* Ensure it renders on top */
            justify-content: center; /* Center vertically */
        }
        
        /* Make both side panels symmetric when Thicker mode is active */
        body:has(canvas.thicker-mode) .game-container {
            gap: 2vw; /* Consistent gap with normal mode */
            justify-content: space-between; /* Maintain spacing */
            align-items: center; /* Center main area vertically */
        }
        
        /* Allow perspective transforms to render without clipping */
        body:has(canvas.longago-mode) .main-area,
        body:has(canvas.comingsoon-mode) .main-area {
            overflow: visible;
        }
        
        body:has(canvas.longago-mode) .game-container,
        body:has(canvas.comingsoon-mode) .game-container {
            overflow: visible;
        }
        
        body:has(canvas.longago-mode) .content-area,
        body:has(canvas.comingsoon-mode) .content-area {
            overflow: visible;
        }
        
        /* Removed thicker-mode panel width adjustments - panels now reposition via JavaScript */
        
        /* Make the instructions text smaller in thicker mode */
        body:has(canvas.thicker-mode) .rules-instructions {
            font-size: 1.3vh;
        }
        
        /* Adjust the controls/stats section */
        body:has(canvas.thicker-mode) .controls {
            font-size: 1.15vh; /* Smaller text */
        }
        
        /* Make stats displays more compact */
        body:has(canvas.thicker-mode) .stat-value {
            font-size: 1.6vh;
        }
        
        /* Adjust score displays in Thicker mode */
        body:has(canvas.thicker-mode) .score-display {
            font-size: 1.4vh;
        }
        
        body:has(canvas.thicker-mode) .score-display > div:not(.score-label) {
            font-size: 1.8vh; /* Smaller score values */
        }
        
        /* Histogram adjustments */
        body:has(canvas.thicker-mode) .histogram-canvas {
            min-height: 25vh; /* Smaller histogram */
        }
        
        /* Long Ago mode - Star Wars opening crawl perspective */
        canvas.longago-mode {
            transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%);
            transform-origin: center center;
            filter: brightness(0.9);
        }
        
        /* Coming Soon mode - Reverse perspective (top wide, bottom narrow) */
        canvas.comingsoon-mode {
            transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%);
            transform-origin: center center;
            filter: brightness(0.9);
        }
        
        /* Combined mode: Thinner + Long Ago */
        canvas.thinner-mode.longago-mode {
            transform: perspective(800px) rotateX(45deg) scaleX(0.6) scale(1.5) translateY(-25%);
            transform-origin: center center;
            filter: brightness(0.9);
        }
        
        /* Combined mode: Thinner + Coming Soon */
        canvas.thinner-mode.comingsoon-mode {
            transform: perspective(800px) rotateX(-45deg) scaleX(0.6) scale(1.5) translateY(25%);
            transform-origin: center center;
            filter: brightness(0.9);
        }
        
        /* Combined mode: Thicker + Long Ago */
        canvas.thicker-mode.longago-mode {
            transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%);
            transform-origin: center center;
            filter: brightness(0.9);
        }
        
        /* Combined mode: Thicker + Coming Soon */
        canvas.thicker-mode.comingsoon-mode {
            transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%);
            transform-origin: center center;
            filter: brightness(0.9);
        }
        
        /* Vine wrapper perspective transforms (same as canvas) */
        .vineWrapper.longago-mode {
            transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%);
            transform-origin: center center;
        }
        
        .vineWrapper.comingsoon-mode {
            transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%);
            transform-origin: center center;
        }
        
        .vineWrapper.thinner-mode.longago-mode {
            transform: perspective(800px) rotateX(45deg) scaleX(0.6) scale(1.5) translateY(-25%);
            transform-origin: center center;
        }
        
        .vineWrapper.thinner-mode.comingsoon-mode {
            transform: perspective(800px) rotateX(-45deg) scaleX(0.6) scale(1.5) translateY(25%);
            transform-origin: center center;
        }
        
        .vineWrapper.thicker-mode.longago-mode {
            transform: perspective(800px) rotateX(45deg) scale(1.5) translateY(-25%);
            transform-origin: center center;
        }
        
        .vineWrapper.thicker-mode.comingsoon-mode {
            transform: perspective(800px) rotateX(-45deg) scale(1.5) translateY(25%);
            transform-origin: center center;
        }
        
        .settings-btn {
            position: absolute;
            top: 12px;
            right: 20px;
            padding: 8px 16px;
            font-size: 14px;
            background: #2a2a3a;
            color: #ccc;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.15s;
            z-index: 10;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        .settings-btn:hover {
            background: #3a3a4a;
            border-color: rgba(110, 181, 255, 0.3);
            color: #fff;
        }
        
        /* Hide UI elements during gameplay */
        .hidden-during-play {
            display: none !important;
        }
        
        .mode-menu {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: transparent;
            padding: 20px;
            box-sizing: border-box;
            pointer-events: none;
            z-index: 10; /* Ensure tooltips appear above left panel */
        }
        .mode-menu.hidden {
            display: none;
        }
        .mode-button {
            width: 90%;
            max-width: 250px;
            pointer-events: auto;
            margin: 6px 0;
            padding: 12px 20px;
            font-size: 16px;
            font-weight: 600;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(180deg, #2a2a3a 0%, #1a1a2a 100%);
            color: #e0e0e0;
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-shadow: none;
        }
        .mode-button:hover {
            background: linear-gradient(180deg, #3a3a4a 0%, #2a2a3a 100%);
            border-color: rgba(110, 181, 255, 0.5);
            color: #fff;
            transform: translateY(-1px);
        }
        .mode-button:active {
            transform: translateY(0);
        }
        .mode-button.selected {
            background: linear-gradient(180deg, #3d5a80 0%, #2d4a70 100%);
            border-color: #6eb5ff;
            color: #fff;
            box-shadow: 0 0 20px rgba(110, 181, 255, 0.3);
        }
        .mode-button[data-tooltip] {
            position: relative;
        }
        .mode-button[data-tooltip]:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            left: 110%;
            top: 50%;
            transform: translateY(-50%);
            background: #1a1a2a;
            color: #ccc;
            padding: 10px 14px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 400;
            white-space: nowrap;
            z-index: 9999;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
            pointer-events: none;
            animation: tooltipFadeIn 0.15s ease-out;
        }
        .mode-button[data-tooltip]:hover::before {
            content: '';
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            border: 6px solid transparent;
            border-right-color: #1a1a2a;
            z-index: 9998;
            pointer-events: none;
        }
        @keyframes tooltipFadeIn {
            from {
                opacity: 0;
                transform: translateY(-50%) translateX(5px);
            }
            to {
                opacity: 1;
                transform: translateY(-50%) translateX(0);
            }
        }
        .game-credits {
            margin-top: 20px;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
            text-align: center;
            line-height: 1.6;
        }
        .game-credits a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
        }
        .game-credits a:hover {
            color: #fff;
        }
        .challenge-selector {
            margin-bottom: 25px;
            text-align: center;
            pointer-events: auto;
            width: 90%;
            max-width: 290px;
        }
        .challenge-selector label {
            display: block;
            margin-bottom: 8px;
            font-size: 18px;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .challenge-select-btn {
            width: 100%;
            padding: 10px 15px;
            font-size: 14px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            box-sizing: border-box;
            transition: all 0.2s ease;
        }
        .challenge-select-btn:hover {
            border-color: rgba(255, 255, 255, 0.5);
            background: rgba(0, 0, 0, 0.7);
        }
        .challenge-select-btn:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.7);
        }
        .challenge-select-btn::after {
            content: ' ▼';
            font-size: 10px;
            opacity: 0.7;
        }
        /* Leaderboard Styles */
        .leaderboard-container {
            padding: 20px;
            color: white;
            overflow-y: auto;
            max-height: 100%;
        }
        
        #leaderboardContent {
            color: #e0e0e0;
            overflow-y: auto;
            overflow-x: visible;
            height: 100%;
            pointer-events: auto;
            position: relative;
            z-index: 10;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        
        .leaderboard-title {
            font-size: 1.8vh;
            font-weight: 600;
            text-align: center;
            margin-bottom: 0.4vh;
            color: #6eb5ff;
        }
        
        .leaderboard-mode-selector {
            text-align: center;
            margin-bottom: 15px;
            font-size: 13px;
            color: #888;
        }
        
        .leaderboard-mode-selector .current-mode {
            color: #6eb5ff;
            font-weight: 600;
        }
        
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1.3vh;
            overflow: visible;
            position: relative;
            line-height: 1.3;
        }
        
        .leaderboard-table th {
            background: #1a1a2e;
            padding: 0.6vh 0.4vw;
            text-align: left;
            border-bottom: 1px solid rgba(110, 181, 255, 0.3);
            font-weight: 600;
            color: #aaa;
            text-transform: uppercase;
            font-size: 1vh;
            letter-spacing: 0.5px;
            position: sticky;
            top: 0;
            z-index: 1;
        }
        
        .leaderboard-table td {
            padding: 0.6vh 0.4vw;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .leaderboard-table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.02);
        }
        
        .leaderboard-table tr.player-score {
            background: rgba(110, 181, 255, 0.15);
            font-weight: 600;
            color: #6eb5ff;
        }
        
        .leaderboard-table .rank {
            width: 30px;
            text-align: center;
            font-weight: 600;
            color: #888;
        }
        
        .leaderboard-table .name {
            width: 22%;
        }
        
        .leaderboard-table .score {
            width: 20%;
        }
        
        .special-events {
            font-size: 1vh;
            color: #888;
        }
        
        .leaderboard-table .events-col {
            width: 18%;
            font-size: 1.1vh;
            color: #888;
        }
        
        .leaderboard-table .challenges-col {
            width: 8%;
            text-align: center;
            cursor: help;
        }
        
        .leaderboard-table .replay-col {
            width: 5%;
            text-align: center;
        }
        
        .replay-btn {
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s, transform 0.2s;
            font-size: 12px;
        }
        
        .replay-btn:hover {
            opacity: 1;
            transform: scale(1.2);
        }
        
        .challenge-count {
            display: inline-block;
            background: rgba(110, 181, 255, 0.2);
            color: #6eb5ff;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 11px;
            pointer-events: auto;
        }
        
        .leaderboard-table tr.has-challenges {
            cursor: help;
        }
        
        .leaderboard-table tr.has-challenges td {
            cursor: help;
        }
        
        .leaderboard-table tr.has-challenges:hover {
            background: rgba(110, 181, 255, 0.1) !important;
        }
        
        .leaderboard-loading {
            text-align: center;
            padding: 40px;
            font-size: 16px;
            color: #888;
        }
        
        .leaderboard-error {
            text-align: center;
            padding: 40px;
            color: #ff6b6b;
        }
        
        /* Name Entry Modal */
        .name-entry-overlay {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            background: rgba(0, 0, 0, 0.85) !important;
            z-index: 99999 !important;
            display: none;
            justify-content: center !important;
            align-items: center !important;
            pointer-events: all !important;
        }
        
        .name-entry-popup {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 36px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            min-width: 380px;
            max-width: 480px;
            position: relative;
            z-index: 100000;
            display: block !important;
            pointer-events: auto;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        
        .name-entry-title {
            font-size: 24px;
            font-weight: 600;
            color: #6eb5ff;
            text-align: center;
            margin-bottom: 16px;
        }
        
        .name-entry-message {
            font-size: 15px;
            color: #aaa;
            text-align: center;
            margin-bottom: 24px;
            line-height: 1.6;
        }
        
        .name-entry-score {
            font-size: 22px;
            color: #fff;
            font-weight: 600;
        }
        
        .name-entry-input {
            width: 100%;
            padding: 14px;
            font-size: 16px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 6px;
            background: #2a2a3a;
            color: #e0e0e0;
            text-align: center;
            margin-bottom: 16px;
            box-sizing: border-box;
            touch-action: manipulation;
            -webkit-appearance: none;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: text;
            user-select: text;
            font-family: inherit;
        }
        
        .name-entry-input:focus {
            outline: none;
            border-color: #6eb5ff;
            box-shadow: 0 0 0 3px rgba(110, 181, 255, 0.15);
        }
        
        .name-entry-button {
            width: 100%;
            padding: 14px;
            font-size: 16px;
            background: #3d7dd4;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
            font-weight: 500;
            font-family: inherit;
        }
        
        .name-entry-button:hover {
            background: #4a8de4;
        }
        
        .name-entry-button:disabled {
            background: #3a3a4a;
            color: #666;
            cursor: not-allowed;
        }
        
        /* Color Palette Dropdown */
        .palette-dropdown {
            position: relative;
            width: 270px;
            display: flex;
            align-items: center;
        }
        
        .palette-dropdown-button {
            width: 100%;
            padding: 6px 10px;
            background: rgba(0,0,0,0.5);
            border: 1px solid #555;
            border-radius: 4px;
            color: #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 8px;
            font-size: 13px;
            box-sizing: border-box;
            min-height: 32px;
        }
        
        .palette-dropdown-button:hover {
            border-color: #777;
        }
        
        .palette-color-row {
            display: flex;
            gap: 2px;
        }
        
        .palette-color-swatch {
            width: 12px;
            height: 12px;
            border-radius: 2px;
            border: 1px solid rgba(255,255,255,0.2);
            flex-shrink: 0;
        }
        
        .palette-dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            min-width: 280px;
            margin-top: 4px;
            background: #1e1e2e;
            border: 1px solid #444;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.4);
            z-index: 1000;
            max-height: 300px;
            overflow-y: auto;
            overflow-x: hidden;
            display: none;
        }
        
        /* .open class no longer used - inline styles control visibility */
        
        .palette-category-header {
            padding: 6px 12px;
            background: #252535;
            color: #888;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: sticky;
            top: 0;
        }
        
        .palette-option {
            padding: 6px 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .palette-option:hover {
            background: #2a2a3e;
        }
        
        .palette-option.selected {
            background: #3a3a4e;
        }
        
        .palette-option-name {
            color: #ddd;
            font-size: 12px;
            white-space: nowrap;
        }
        
        .settings-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.15);
            margin: 8px 0;
        }
    </style>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=AW-17791773957">
	</script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'AW-17791773957');
	</script>
</head>
<body>
    <script>
        // Domain-based title switching - runs immediately
        (function() {
            const hostname = window.location.hostname.toLowerCase();
            const isTantris = hostname.includes('tantris') || hostname.includes('itch.io') || hostname.includes('itch.zone');
            
            // Update document title
            document.title = isTantris ? 'TaNTЯiS' : 'BLOCKCHaiNSTOЯM';
            
            // Expose for other scripts
            window.GAME_TITLE = isTantris ? 'TaNTЯiS' : 'BLOCKCHaiNSTOЯM';
            window.IS_TANTRIS = isTantris;
            
            // Inject CSS to permanently hide the inactive title
            const style = document.createElement('style');
            if (isTantris) {
                style.textContent = '#title-blockchainstorm { display: none !important; }';
            } else {
                style.textContent = '#title-tantris { display: none !important; }';
            }
            document.head.appendChild(style);
            
            // Remove inline style from tantris title when on tantris domain (so JS can control it)
            if (isTantris) {
                document.addEventListener('DOMContentLoaded', function() {
                    const tantrisTitle = document.getElementById('title-tantris');
                    if (tantrisTitle) tantrisTitle.style.display = '';
                });
            }
        })();
    </script>
    <div class="start-overlay" id="startOverlay">
        <!-- button class="login-btn" id="introLoginBtn">🔑 Login</button -->
        <div class="start-message" id="dontPanicText">Don't Panic!</div>
        <div class="intro-controls" id="introControls">
            <label class="intro-toggle">
                <span class="intro-toggle-label">Skill Level</span>
                <select id="introSkillLevelSelect" style="background: rgba(0,0,0,0.5); color: #fff; border: 1px solid #555; border-radius: 4px; padding: 4px 8px; font-size: 12px;">
                    <option value="breeze">🌤️ Breeze</option>
                    <option value="tempest" selected>🌪️ Tempest</option>
                    <option value="maelstrom">🌀 Maelstrom</option>
                </select>
            </label>
            <label class="intro-toggle">
                <span class="intro-toggle-label">Music</span>
                <select id="introMusicSelect" style="background: rgba(0,0,0,0.5); color: #fff; border: 1px solid #555; border-radius: 4px; padding: 4px 8px; font-size: 12px;">
                    <option value="shuffle">🎲 Shuffle</option>
                    <option value="none">🔇 None</option>
                    <option value="a_game_of_falling_blocks">A Game of Falling Blocks</option>
                    <option value="bide_your_time">Bide Your Time</option>
                    <option value="block_on_fire">Block on Fire</option>
                    <option value="blood_rains_down">Blood Rains Down</option>
                    <option value="cant_keep_my_mind_off_you">Can't Keep My Mind Off You</option>
                    <option value="cascade_void_nervous">Cascade into the Void (Nervous)</option>
                    <option value="cascade">Cascade of Colored Bricks</option>
                    <option value="clearing_skies">Clearing Skies</option>
                    <option value="cosmic_reggae">Cosmic Reggae</option>
                    <option value="cosmic_reggae_reverb">Cosmic Reggae Reverb</option>
                    <option value="cosmic_sneeze">Cosmic Sneeze</option>
                    <option value="delayed_gravitation">Delayed Gravitation</option>
                    <option value="do_you_want_a_score">Do You Want a Score</option>
                    <option value="elemental_flow">Elemental Flow</option>
                    <option value="fallin_down">Fallin' Down</option>
                    <option value="falling_blocks">Falling Blocks Reactor</option>
                    <option value="falling_forever">Falling Forever</option>
                    <option value="falling_for_you">Falling for You</option>
                    <option value="falling_tide">Falling Tide</option>
                    <option value="fiddle_puddles">Fiddle Puddles</option>
                    <option value="flood_me">Flood Me</option>
                    <option value="forecast_calls_for_blocks">Forecast Calls for Blocks</option>
                    <option value="frolicking_among_the_ruins">Frolicking Among the Ruins</option>
                    <option value="get_some_tonight">Get Some Tonight</option>
                    <option value="gin_and_tectonic">Gin & Tectonic</option>
                    <option value="gravitational">Gravitational</option>
                    <option value="gremlin_swell">Gremlin Swell</option>
                    <option value="gremlins_arcade">Gremlins Arcade</option>
                    <option value="haunted_hailstones">Haunted Hailstones</option>
                    <option value="hold_it">Hold It</option>
                    <option value="how_long_can_you_wait">How Long Can You Wait</option>
                    <option value="lava_bells">Lava Bells</option>
                    <option value="lulaby_bye_bye">Lulaby Bye Bye</option>
                    <option value="meteor_shower">Meteor Shower</option>
                    <option value="microcosmic">Microcosmic</option>
                    <option value="midnight_mogwai">Midnight Mogwai</option>
                    <option value="natural_disasters">Natural Disasters</option>
                    <option value="natural_selection">Natural Selection</option>
                    <option value="perfect_storm">Perfect Storm</option>
                    <option value="pity_puddles">Pity Puddles</option>
                    <option value="rubber_and_glue">Rubber & Glue</option>
                    <option value="slow_burn">Slow Burn</option>
                    <option value="solar_echoes">Solar Echoes</option>
                    <option value="stacked_like_dolly">Stacked (Like Dolly)</option>
                    <option value="stacked_like_loni">Stacked (Like Loni)</option>
                    <option value="stacked_like_pam">Stacked (Like Pam)</option>
                    <option value="stacked_like_sofia">Stacked (Like Sofia)</option>
                    <option value="stuck_on_the_grid">Stuck on the Grid</option>
                    <option value="symphonic_fog">Symphonic Fog</option>
                    <option value="tantris_fever">TaNTЯiS Fever</option>
                    <option value="tantris_fever_80s_eurobeat">TaNTЯiS Fever ('80s Eurobeat)</option>
                    <option value="tantris_fever_80s_hair_band">TaNTЯiS Fever ('80s Hair Band)</option>
                    <option value="tantris_fever_80s_pop">TaNTЯiS Fever ('80s Pop)</option>
                    <option value="tantris_fever_90s_alternative">TaNTЯiS Fever ('90s Alternative)</option>
                    <option value="tantris_fever_a_capella">TaNTЯiS Fever (A Capella)</option>
                    <option value="tantris_fever_barbershop">TaNTЯiS Fever (Barbershop Quartet)</option>
                    <option value="tantris_fever_boy_band">TaNTЯiS Fever (Boy Band)</option>
                    <option value="tantris_fever_country">TaNTЯiS Fever (Country)</option>
                    <option value="tantris_fever_instrumental_rap">TaNTЯiS Fever (Instrumental Rap)</option>
                    <option value="tantris_fever_piano">TaNTЯiS Fever (Piano)</option>
                    <option value="tantris_fever_rap">TaNTЯiS Fever (Rap)</option>
                    <option value="tetrominoes_pentominoes">Tetrominoes & Pentominoes</option>
                    <option value="the_far_side_of_the_moooon">The Far Side (of the Moooon)</option>
                    <option value="the_long_game">The Long Game</option>
                    <option value="the_longer_game">The Longer Game</option>
                    <option value="the_pit_banjo">The Pit (Banjo Mix)</option>
                    <option value="the_pit_horny">The Pit (Horny Mix)</option>
                    <option value="the_pit_house">The Pit (House Mix)</option>
                    <option value="the_pit_techno">The Pit (Techno Mix)</option>
                    <option value="three_ring_gravity">Three Ring Gravity</option>
                    <option value="under_the_weather">Under the Weather</option>
                    <option value="untitled">Untitled</option>
                    <option value="what_the_flock">What the Flock</option>
                    <option value="whistling_dewdrops">Whistling Dewdrops</option>
                    <option value="wind_fire">Wind & Fire</option>
                    <option value="wind_fire_soot">Wind & Fire & Soot</option>
                    <option disabled>──────────</option>
                    <option value="cascade_void_intro">TaNTЯiS</option>
                    <option value="cascade_void_credits">Cascade into the Void (End Credits)</option>
                    <option value="cascade_void_intense">Cascade into the Void (Intense)</option>
                    <option value="cascade_void_bork">Cascade into the Void (Bork Bork Bork)</option>
                    <option value="cascade_void_maxheadroom">Cascade into the Void (Max Headroom)</option>
                    <option value="cascade_void_eurobeat">Cascade into the Void (Eurobeat)</option>
                    <option value="cascade_void_acappella">Cascade into the Void (A Cappella)</option>
                    <option value="cascade_void_folk">Cascade into the Void (Folk)</option>
                    <option value="cascade_void_dance">Cascade into the Void (Dance)</option>
                </select>
            </label>
            <label class="intro-toggle" id="introFullscreenToggle">
                <span class="intro-toggle-label">Full Screen</span>
                <div class="toggle-switch">
                    <input type="checkbox" id="introFullscreenCheckbox" checked>
                    <span class="toggle-slider"></span>
                </div>
            </label>
            <button class="start-game-btn" id="startGameBtn">▶ Start Game</button>
        </div>
    </div>
    <canvas id="starfield"></canvas>
    <button class="settings-btn" id="settingsBtn">⚙️ Settings</button>
    <div class="header">
        <div class="title" id="title-blockchainstorm">
            ₿L<span style="position: relative; display: inline-block;">
                <span style="position: relative; z-index: 1; -webkit-text-fill-color: #FFA500; color: #FFA500; background: none;">O</span>
                <svg style="position: absolute; left: 62%; top: 50%; transform: translate(-50%, -50%) rotate(10deg) scaleX(1.2); width: 150%; height: 150%; pointer-events: none; z-index: 2;" viewBox="0 0 10 10">
                    <defs>
                        <filter id="lightning-glow">
                            <feGaussianBlur stdDeviation="0.125" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    <!-- Gold lightning bolt with dark outline -->
                    <path d="M 5.5535055,0.41389914 2,5 4.0571956,4.9630996 1.5,9.5 5.9797048,4.3769988 3.6476015,4.3154982 Z" 
                          fill="#FFD700"
                          stroke="#000000"
                          stroke-width="0.15"
                          stroke-opacity="0.6"
                          filter="url(#lightning-glow)"/>
                </svg>
            </span>CK<span style="-webkit-text-fill-color: #B87700; color: #B87700; background: none;">CH</span><span style="-webkit-text-fill-color: #FFE87C; color: #FFE87C; background: none; filter: drop-shadow(0 0 0.3vh rgba(255, 232, 124, 0.8));">ai</span><span style="-webkit-text-fill-color: #B87700; color: #B87700; background: none;">N</span>ST<span style="position: relative; display: inline-block;">
                <span style="position: relative; z-index: 1; -webkit-text-fill-color: #FFA500; color: #FFA500; background: none;">O</span>
                <svg style="position: absolute; left: 62%; top: 50%; transform: translate(-50%, -50%) rotate(10deg) scaleX(1.2); width: 150%; height: 150%; pointer-events: none; z-index: 2;" viewBox="0 0 10 10">
                    <defs>
                        <filter id="lightning-glow2">
                            <feGaussianBlur stdDeviation="0.125" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    <!-- Gold lightning bolt with dark outline -->
                    <path d="M 5.5535055,0.41389914 2,5 4.0571956,4.9630996 1.5,9.5 5.9797048,4.3769988 3.6476015,4.3154982 Z" 
                          fill="#FFD700"
                          stroke="#000000"
                          stroke-width="0.15"
                          stroke-opacity="0.6"
                          filter="url(#lightning-glow2)"/>
                </svg>
            </span>ЯM
        </div>
        <div class="title" id="title-tantris" style="display: none;">
            T<span style="-webkit-text-fill-color: #FFE87C; color: #FFE87C; background: none; filter: drop-shadow(0 0 0.3vh rgba(255, 232, 124, 0.8));">a</span>NT<span style="-webkit-text-fill-color: #FFA500; color: #FFA500; background: none;">Я</span><span style="-webkit-text-fill-color: #FFE87C; color: #FFE87C; background: none; filter: drop-shadow(0 0 0.3vh rgba(255, 232, 124, 0.8));">i</span>S
        </div>
    </div>

    <div class="content-area">
        <div class="game-container">
        <div class="rules-panel">
            <div class="rules-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5vh;">
                <select id="rulesPanelViewSelect" style="background: rgba(0,0,0,0.5); color: #fff; border: 1px solid #555; border-radius: 4px; padding: 2px 6px; font-size: 1.2vh;">
                    <option value="rules" selected>📖 How to Play</option>
                    <option value="leaderboard">🏆 Leaderboards</option>
                </select>
                <div id="rulesPanelTitle" style="font-size: 1.4vh; color: #fff; display: none;"></div>
                <div style="display: flex; align-items: center; gap: 0.5vw;">
                    <span id="skillLevelLabel" style="font-size: 1.1vh; color: #888;">Skill Level:</span>
                    <select id="rulesSkillLevelSelect" style="background: rgba(0,0,0,0.5); color: #fff; border: 1px solid #555; border-radius: 4px; padding: 2px 6px; font-size: 1.2vh;">
                        <option value="breeze">Breeze</option>
                        <option value="tempest" selected>Tempest</option>
                        <option value="maelstrom">Maelstrom</option>
                    </select>
                </div>
            </div>
            <div class="rules-instructions">
                
                <div class="rules-section">
                    <h3>🎮 Goal</h3>
                    <span id="rulesGoalText">Stack colored blocks to form <i>blobs</i> (connected groups of a single color). Clear rows to break up blobs and score: the larger the blob, the more points you get for ripping it apart!
					But watch out for <i>tornadoes</i> and <i>earthquakes</i>!</span>
                </div>
                
                <div class="rules-section">
                    <h3>✨ Special Events</h3>
                    <div>
						<strong>⚡ Strike:</strong> Clear 4 rows at once for 2× points!
                    </div>
                    <div id="rulesTsunamiSection">
						<strong>🌊 Tsunami:</strong> Create a blob that spans the full width of the well and the <i>entire</i> blob clears for massive points!
                    </div>
                    <div id="rulesVolcanoSection">
						<strong>🌋 Volcano:</strong> When a blob touching any edge is surrounded by another blob and the edge, it turns to lava, erupting upward and raining down as single blocks. Each lava segment cleared multiplies the line clear by 2<sup>n</sup> (1 segment = 2×, 2 segments = 4×, 3 segments = 8×)!
                    </div>
					<div style="padding: 0" id="rulesBlackHoleSection">
						<strong>🕳️ Black Hole:</strong> When one blob completely envelops another, the inner blob becomes a black hole that sucks in <i>all</i> blocks from both blobs for huge points!
					</div>
                </div>
                
                <div class="rules-section">
                    <h3>📊 Scoring</h3>
                    <div>
						<strong>Level:</strong> Increases as you clear lines (every 11 lines = +1 level). Higher levels mean faster falling pieces and higher score multipliers!
                    </div>
                    <div>
						<strong>Normal:</strong> (Blob Size)² × Blocks Cleared × 100 × Level
						<ul>
							<li>Bigger blobs = exponentially more points!</li>
						</ul>
					</div>
                    <div>
						<strong>Strike:</strong> 2× all points
                    </div>
                    <div id="rulesTsunamiScoring">
						<strong>Tsunami:</strong> (Blob Size)³ × 200 × Level
                    </div>
					<div id="rulesVolcanoScoring">
						<strong>Volcano:</strong>
						<ul>
							<li>Inner (lava): (Blob Size)³ × 500 × Level</li>
							<li>Lava in lines: 2<sup>n</sup> multiplier (n = # of lava segments)</li>
						</ul>
					</div>
					<div id="rulesBlackHoleScoring">
						<strong>Black Hole:</strong>
						<ul>
							<li>Inner (core): (Blob Size)³ × 800 × Level</li>
							<li>Outer (sucked in): (Blob Size)³ × 800 × Level</li>
						</ul>
					</div>
					<div style="padding: 0" id="rulesSpeedBonusText">
						<strong>Speed Bonus:</strong> The faster you drop pieces, the larger the bonus applied to your score.  But beware: faster drops also mean more frequent <i>tornadoes</i> and <i>earthquakes</i>!
					</div>
                </div>
            </div>
            
            <!-- Histogram Canvas -->
            <canvas id="histogramCanvas" class="histogram-canvas"></canvas>
            
            <!-- Planet Stats in Left Panel (Tablet Mode) -->
            <div id="planetStatsLeft">
                <div id="planetStatsLeftContent"></div>
            </div>
        </div>
        
        <div class="main-area">
            <canvas id="gameCanvas" width="350" height="700"></canvas>
            <div class="mode-menu" id="modeMenu">
                
                <div class="challenge-selector">
                    <div style="font-size: 20px; font-weight: bold; margin-bottom: 20px; color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); white-space: nowrap;">
                        Select Challenge Mode(s)...
                    </div>
                    <button id="challengeSelectBtn" class="challenge-select-btn">Normal</button>
                </div>
				
                <div style="font-size: 20px; font-weight: bold; margin-bottom: 20px; color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
                    Choose your difficulty level...
                </div>
                <button class="mode-button" data-mode="drizzle" data-tooltip="Easy mode - 4 colors, standard 10-wide board">🌧️ Drizzle</button>
                <button class="mode-button" data-mode="downpour" data-tooltip="Standard mode - 6 colors, 10-wide board">⛈️ Downpour</button>
                <button class="mode-button" data-mode="hailstorm" data-tooltip="8 colors for maximum challenge">🧊 Hailstorm</button>
                <button class="mode-button" data-mode="blizzard" data-tooltip="12-wide board with 5-block pieces, 5 colors">❄️ Blizzard</button>
                <button class="mode-button" data-mode="hurricane" data-tooltip="Ultimate challenge - 12-wide + 5-block pieces, 7 colors">🌀 Hurricane</button>

            </div>
            <div class="game-over" id="gameOver">
                <div style="font-size: 32px; margin-bottom: 10px;">GAME OVER</div>
                <div id="finalScore"></div>
                <div id="finalStats" style="margin-top: 10px; font-size: 16px; color: rgba(255,255,255,0.8); white-space: nowrap;"></div>
                <button id="playAgainBtn">Play Again</button>
            </div>
            
            <!-- End Credits Overlay -->
            <div class="credits-overlay" id="creditsOverlay">
                <div class="credits-scroll" id="creditsScroll">
                    <div class="credits-content">
                        <div class="credits-title" id="gameTitle">T<span class="credits-ai">a</span>NTЯ<span class="credits-ai">i</span>S a.k.a. ₿LOCKCH<span class="credits-ai">ai</span>NSTOЯM</div>
                        
                        <div class="credits-section">
                            <div class="credits-row">
                                <span class="credits-role">Game Design</span>
                                <span class="credits-name">C. Ryan Deardorff</span>
                            </div>
                        </div>
                        
                        <div class="credits-section">
                            <div class="credits-row">
                                <span class="credits-role">Programming</span>
                                <span class="credits-name">Claude AI (Anthropic)</span>
                            </div>
                            <div class="credits-row">
                                <span class="credits-role"></span>
                                <span class="credits-name">C. Ryan Deardorff</span>
                            </div>
                        </div>
                        
                        <div class="credits-section">
                            <div class="credits-row">
                                <span class="credits-role">Music</span>
                                <span class="credits-name">SUNO AI</span>
                            </div>
                        </div>
                        
                        <div class="credits-section">
                            <div class="credits-row">
                                <span class="credits-role">"Cascade into the Void" Lyrics</span>
                                <span class="credits-name">Claude AI</span>
                            </div>
                            <div class="credits-row">
                                <span class="credits-role"></span>
                                <span class="credits-name">C. Ryan Deardorff</span>
                            </div>
                        </div>
                        
                        <div class="credits-section">
                            <div class="credits-row">
                                <span class="credits-role">"The Pit" Lyrics</span>
                                <span class="credits-name">Andy Dwyer</span>
                            </div>
                        </div>
                        
                        <div class="credits-section">
                            <div class="credits-row">
                                <span class="credits-role">Catering</span>
                                <span class="credits-name">Your Mom</span>
                            </div>
                        </div>
                        
                        <div class="credits-section">
                            <div class="credits-row">
                                <span class="credits-role">Obligatory Thanks</span>
                                <span class="credits-name">Sir Daniel Teater</span>
                            </div>
                            <div class="credits-row">
                                <span class="credits-role"></span>
                                <span class="credits-name">David Koch</span>
                            </div>
                        </div>
                        
                        <div class="credits-thanks">Special Thanks to Josh Cadotte</div>
                        
                        <div class="credits-spacer"></div>
                        
                        <div class="credits-disclaimer">No animals were harmed in the making of this game.</div>
                        
                        <div class="credits-spacer"></div>
                        
                        <div class="credits-copyright">© 2026 Official Intelligence</div>
                        <a href="https://official-intelligence.art/" class="credits-link">https://official-intelligence.art/</a>
                        
                        <div class="credits-spacer-large"></div>
                        
                        <div class="credits-spacer-large"></div>
                        
                        <div class="credits-easter">You're still here?</div>
                        
                        <div class="credits-spacer"></div>
                        
                        <div class="credits-easter">The game is over.  Play another one!</div>
						
						<div class="credits-spacer-large"></div>
						
						<div class="credits-disclaimer">
							Full disclosure, a møøse <i>was</i> nearly decapitated during the launch party when the caterer started choking on a penny that 
							had fallen into the crab dip and she spun frantically into a mime, pushing him out of his box and into the pool, causing the lifeguard to leap off of his tower, which
							wasn't securely fastened and tipped over onto the møøse.
						</div>
                        
                        <div class="credits-spacer"></div>
						
						<div class="credits-disclaimer">
							Fortunately the møøse had a premonition about the disaster, and stomped on the mime before he could climb into his box.
						</div>
                        
                        <div class="credits-spacer"></div>
						
						<div class="credits-disclaimer">
							The mime was severly maimed and is now suing the møøse.
						</div>
                        
                        <div class="credits-spacer"></div>
						
						<div class="credits-disclaimer">
							The caterer should not have been eating the crab dip, and has been sacked.
						</div>
                        
                        <div class="credits-spacer"></div>
						
						<div class="credits-disclaimer">
							The møøse is convinced that Death is still coming for him, and refuses to set foot outside of his trailer.
						</div>
						
						<div class="credits-spacer-final"></div>
						
						<div class="credits-disclaimer">
							<p>You're probably wondering if aliens are real.  Despite popular belief, the Grays are <i>not</i> extraterrestrial—they are, in fact, very much of this earth.  The reason they
							appear so "humanoid" is because they are our great great great great ancestors who once thrived in an advanced civilization up here on the land.</p>
							<p>Having become so advanced, they realized that it would inevitably become futile to continue living out in the open, exposed to all kinds of natural disasters that would only 
							grow more severe.  They knew that the entire planet would eventually become engulfed in water, and so decided to learn how to thrive deep in the ocean.</p>
							<p>They are well aware of our existence, and are not amused by our shenanegans.  The one exception being <i>Malcolm in the Middle</i>, which nearly brought about "Disclosure Day"
							when it ended.  But they knew we weren't ready for that yet, and instead have been working tirelessly behind the scenes to bring about the reboot.</p>
						</div>
                        
                        <div class="credits-spacer-final"></div>
						
						<div class="credits-disclaimer">My imaginary friend is a Muppet.</div>
                        
                        <div class="credits-spacer"></div>
                        
                        <div class="credits-spacer"></div>
						
						<div class="credits-disclaimer">Jealous?</div>
						
						<div class="credits-spacer"></div>
                        
                        <div class="credits-spacer"></div>
						
						<div class="credits-disclaimer">Though he may look like one, the last guy who called him a Fraggle is now in the ICU.</div>
						
						<div class="credits-spacer"></div>
                        
                        <div class="credits-spacer"></div>
						
						<div class="credits-disclaimer">The doctors had to remove Jimmy's fist from his ass.</div>
                        
                        <div class="credits-spacer-final"></div>
						
						<div class="credits-disclaimer">
							<div class="credits-thanks">Spontaneous Human Consumption</div>
							<p>The group that stepped off the bus consisted of two women and seven men; the tenth person was shot immediately, so it didn't really matter
							what sex it was, although Herbert was rather interested.</p>
							<p>After the shot went off, Herbert was seen standing over the dead body.  This led the rest to believe that he was the one who had done the deed, but since nobody really cared
							one way or the other, they didn't hold it against him.</p>
							<p>A silence fell among the group as they dragged the dead body into a nearby alley and propped it in a sitting position against the wall.  Had it not been Tuesday, they all would
							have left it at that and then gone their separate ways.  But it <i>was</i> Tuesday, and they all knew what had to be done.</p>
							<p>Herbert had the honor of taking the first bite.  He cringed at the taste, and then managed to smile.  The younger of the two women took the next bite—from the nose.  Pretty
							soon everyone had a bite, and the silence diminished as they feasted on the corpse.</p>
							<p>It took close to three hours to devour the entire body, and when the task was accomplished, they all went back to their normal lives.</p>
							<p>That night Herbert let out a burp that smelled like perfume.  For the first time in ten years his wife did not come to bed with him.  She slept in the bathtub on a bed
							of crackers.</p>
						</div>
                        
                        <div class="credits-spacer-final"></div>
						
						<div class="credits-disclaimer">Congratulations, you've reached the end of the credits!</div>
                        
                        <div class="credits-spacer-final"></div>
						
						<div class="credits-disclaimer">I must away now, as they are handing out the meds and Jimmy gets super weird if I don't take mine.</div>
                        
                        <div class="credits-spacer-final"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="side-panel">
            <div class="score-display">
                <div class="score-label">Score</div>
                <div id="score">0</div>
            </div>
            <div class="score-display">
                <div class="score-label">Lines</div>
                <div id="lines">0</div>
            </div>
            <div class="score-display">
                <div class="score-label">Level</div>
                <div id="level">1</div>
            </div>
            <div class="next-piece" id="nextPieceSection">
                <div class="score-label">Next Pieces</div>
                <div class="next-canvas-wrapper">
                    <canvas id="nextCanvas" class="next-canvas"></canvas>
                </div>
            </div>
            
            <!-- Special Events Grid (2 columns) -->
            <div class="special-events-grid">
                <div class="score-display" id="strikesRow">
                    <div class="score-label">⚡ Strikes</div>
                    <div id="strikes">0</div>
                </div>
                <div class="score-display" id="blackholesRow">
                    <div class="score-label">🕳️ Black Holes</div>
                    <div id="blackholes">0</div>
                </div>
                <div class="score-display" id="tsunamisRow">
                    <div class="score-label">🌊 Tsunamis</div>
                    <div id="tsunamis">0</div>
                </div>
                <div class="score-display" id="volcanoesRow">
                    <div class="score-label">🌋 Volcanoes</div>
                    <div id="volcanoes">0</div>
                </div>
            </div>
            
            <!-- Bottom section - pushed to bottom of panel -->
            <div class="side-panel-bottom">
                <!-- Controls and Planet Stats occupy the same space -->
                <div class="controls">
                    <div><span class="control-key">← → :</span><span>Move</span></div>
                    <div><span class="control-key">↓ :</span><span>Soft Drop</span></div>
                    <div><span class="control-key">↑ :</span><span>Rotate CW</span></div>
                    <div><span class="control-key">Space :</span><span>Hard Drop</span></div>
                    <div><span class="control-key">P :</span><span>Pause</span></div>
                    <div><span class="control-key">PgUp/PgDn :</span><span>Toggle Fullscreen</span></div>
                    <div style="margin-top: 10px;"><span class="control-key">Numpad 4/6 :</span><span>Move</span></div>
                    <div><span class="control-key">Numpad 2 :</span><span>Soft Drop</span></div>
                    <div><span class="control-key">Numpad 5 :</span><span>Rotate CCW</span></div>
                    <div><span class="control-key">Numpad 0 :</span><span>Hard Drop</span></div>
                </div>
                
                <!-- Planet Stats Display - Appears in same location as controls during gameplay -->
                <div id="planetStats" style="display: none; margin-top: 1.8vh; padding: 1vh 0.9vw; background: rgba(26, 26, 46, 0.8); border-radius: 0.6vh; border: 1px solid rgba(255, 255, 255, 0.1); font-size: 1.3vh; color: #ccc;">
                    <div id="planetStatsContent"></div>
                </div>
                
                <!-- Touch Controls for Tablet Mode -->
                <div id="touchControls">
                    <button class="touch-btn touch-btn-rotate-ccw" id="touchRotateCCW">↺</button>
                    <button class="touch-btn touch-btn-left" id="touchLeft">⬅</button>
                    <button class="touch-btn touch-btn-rotate" id="touchRotate">↻</button>
                    <button class="touch-btn touch-btn-right" id="touchRight">➡</button>
                    <button class="touch-btn touch-btn-down" id="touchDown">⬇</button>
                    <button class="touch-btn touch-btn-drop" id="touchDrop">⬇⬇</button>
                </div>
            </div>
        </div>
    </div>
    </div>
    
    <!-- Pause Button (shown in top-right during tablet mode gameplay) -->
    <button class="pause-btn" id="pauseBtn">⏸️</button>
    
    <!-- Settings Popup -->
    <div class="settings-overlay" id="settingsOverlay">
        <div class="settings-popup">
            <div class="settings-title">⚙️ Settings</div>
            
            <div class="settings-columns">
                <div class="settings-column-left">
            
            <div class="settings-option">
                <label class="toggle-label">
                    <span class="toggle-label-text">Skill Level</span>
                    <select id="skillLevelSelect" style="background: rgba(0,0,0,0.5); color: #fff; border: 1px solid #555; border-radius: 4px; padding: 6px 10px; font-size: 13px; margin-left: auto; width: 270px;">
                        <option value="breeze">🌤️ Breeze - No disasters</option>
                        <option value="tempest" selected>🌪️ Tempest - Tsunamis, Black Holes</option>
                        <option value="maelstrom">🌀 Maelstrom - Full chaos</option>
                    </select>
                </label>
            </div>
            
            <div class="settings-option">
                <label class="toggle-label">
                    <span class="toggle-label-text">Music</span>
                    <select id="musicSelect" style="background: rgba(0,0,0,0.5); color: #fff; border: 1px solid #555; border-radius: 4px; padding: 6px 10px; font-size: 13px; margin-left: auto; width: 270px;">
                        <option value="shuffle">🎲 Shuffle</option>
                        <option value="none">🔇 None</option>
                        <option value="a_game_of_falling_blocks">A Game of Falling Blocks</option>
                        <option value="bide_your_time">Bide Your Time</option>
                        <option value="block_on_fire">Block on Fire</option>
                        <option value="blood_rains_down">Blood Rains Down</option>
                        <option value="cant_keep_my_mind_off_you">Can't Keep My Mind Off You</option>
                        <option value="cascade_void_nervous">Cascade into the Void (Nervous)</option>
                        <option value="cascade">Cascade of Colored Bricks</option>
                        <option value="clearing_skies">Clearing Skies</option>
                        <option value="cosmic_reggae">Cosmic Reggae</option>
                        <option value="cosmic_reggae_reverb">Cosmic Reggae Reverb</option>
                        <option value="cosmic_sneeze">Cosmic Sneeze</option>
                        <option value="delayed_gravitation">Delayed Gravitation</option>
                        <option value="do_you_want_a_score">Do You Want a Score</option>
                        <option value="elemental_flow">Elemental Flow</option>
                        <option value="fallin_down">Fallin' Down</option>
                        <option value="falling_blocks">Falling Blocks Reactor</option>
                        <option value="falling_forever">Falling Forever</option>
                        <option value="falling_for_you">Falling for You</option>
                        <option value="falling_tide">Falling Tide</option>
                        <option value="fiddle_puddles">Fiddle Puddles</option>
                        <option value="flood_me">Flood Me</option>
                        <option value="forecast_calls_for_blocks">Forecast Calls for Blocks</option>
                        <option value="frolicking_among_the_ruins">Frolicking Among the Ruins</option>
                        <option value="get_some_tonight">Get Some Tonight</option>
                        <option value="gin_and_tectonic">Gin & Tectonic</option>
                        <option value="gravitational">Gravitational</option>
                        <option value="gremlin_swell">Gremlin Swell</option>
                        <option value="gremlins_arcade">Gremlins Arcade</option>
                        <option value="haunted_hailstones">Haunted Hailstones</option>
                        <option value="hold_it">Hold It</option>
                        <option value="how_long_can_you_wait">How Long Can You Wait</option>
                        <option value="lava_bells">Lava Bells</option>
                        <option value="lulaby_bye_bye">Lulaby Bye Bye</option>
                        <option value="meteor_shower">Meteor Shower</option>
                        <option value="microcosmic">Microcosmic</option>
                        <option value="midnight_mogwai">Midnight Mogwai</option>
                        <option value="natural_disasters">Natural Disasters</option>
                        <option value="natural_selection">Natural Selection</option>
                        <option value="perfect_storm">Perfect Storm</option>
                        <option value="pity_puddles">Pity Puddles</option>
                        <option value="rubber_and_glue">Rubber & Glue</option>
                        <option value="slow_burn">Slow Burn</option>
                        <option value="solar_echoes">Solar Echoes</option>
                        <option value="stacked_like_dolly">Stacked (Like Dolly)</option>
                        <option value="stacked_like_loni">Stacked (Like Loni)</option>
                        <option value="stacked_like_pam">Stacked (Like Pam)</option>
                        <option value="stacked_like_sofia">Stacked (Like Sofia)</option>
                        <option value="stuck_on_the_grid">Stuck on the Grid</option>
                        <option value="symphonic_fog">Symphonic Fog</option>
                        <option value="tantris_fever">TaNTЯiS Fever</option>
                        <option value="tantris_fever_80s_eurobeat">TaNTЯiS Fever ('80s Eurobeat)</option>
                        <option value="tantris_fever_80s_hair_band">TaNTЯiS Fever ('80s Hair Band)</option>
                        <option value="tantris_fever_80s_pop">TaNTЯiS Fever ('80s Pop)</option>
                        <option value="tantris_fever_90s_alternative">TaNTЯiS Fever ('90s Alternative)</option>
                        <option value="tantris_fever_a_capella">TaNTЯiS Fever (A Capella)</option>
                        <option value="tantris_fever_barbershop">TaNTЯiS Fever (Barbershop Quartet)</option>
                        <option value="tantris_fever_boy_band">TaNTЯiS Fever (Boy Band)</option>
                        <option value="tantris_fever_country">TaNTЯiS Fever (Country)</option>
                        <option value="tantris_fever_instrumental_rap">TaNTЯiS Fever (Instrumental Rap)</option>
                        <option value="tantris_fever_piano">TaNTЯiS Fever (Piano)</option>
                        <option value="tantris_fever_rap">TaNTЯiS Fever (Rap)</option>
                        <option value="tetrominoes_pentominoes">Tetrominoes & Pentominoes</option>
                        <option value="the_far_side_of_the_moooon">The Far Side (of the Moooon)</option>
                        <option value="the_long_game">The Long Game</option>
                        <option value="the_longer_game">The Longer Game</option>
                        <option value="the_pit_banjo">The Pit (Banjo Mix)</option>
                        <option value="the_pit_horny">The Pit (Horny Mix)</option>
                        <option value="the_pit_house">The Pit (House Mix)</option>
                        <option value="the_pit_techno">The Pit (Techno Mix)</option>
                        <option value="three_ring_gravity">Three Ring Gravity</option>
                        <option value="under_the_weather">Under the Weather</option>
                        <option value="untitled">Untitled</option>
                        <option value="what_the_flock">What the Flock</option>
                        <option value="whistling_dewdrops">Whistling Dewdrops</option>
                        <option value="wind_fire">Wind & Fire</option>
                        <option value="wind_fire_soot">Wind & Fire & Soot</option>
                        <option disabled>──────────</option>
                        <option value="cascade_void_intro">TaNTЯiS</option>
                        <option value="cascade_void_credits">Cascade into the Void (End Credits)</option>
                        <option value="cascade_void_intense">Cascade into the Void (Intense)</option>
                        <option value="cascade_void_bork">Cascade into the Void (Bork Bork Bork)</option>
                        <option value="cascade_void_maxheadroom">Cascade into the Void (Max Headroom)</option>
                        <option value="cascade_void_eurobeat">Cascade into the Void (Eurobeat)</option>
                        <option value="cascade_void_acappella">Cascade into the Void (A Cappella)</option>
                        <option value="cascade_void_folk">Cascade into the Void (Folk)</option>
                        <option value="cascade_void_dance">Cascade into the Void (Dance)</option>
                    </select>
                </label>
            </div>
            
            <div class="settings-option" id="vibrationOption" style="display: none;">
                <label class="toggle-label">
                    <span class="toggle-label-text">Controller Vibration</span>
                    <div class="toggle-switch">
                        <input type="checkbox" id="vibrationToggle" checked>
                        <span class="toggle-slider"></span>
                    </div>
                </label>
            </div>
            
            <div class="settings-divider"></div>
            
            <div class="settings-option" style="border-bottom: none; position: relative;">
                <label class="toggle-label">
                    <span class="toggle-label-text">Color Palette</span>
                    <div class="palette-dropdown" id="paletteDropdown" style="margin-left: auto;">
                        <button type="button" class="palette-dropdown-button" id="paletteDropdownBtn">
                            <div style="display: flex; align-items: center; gap: 6px; overflow: hidden;">
                                <div class="palette-color-row" id="palettePreview">
                                    <!-- Colors populated by JS -->
                                </div>
                                <span id="paletteNameDisplay" style="font-size: 12px; color: #aaa; white-space: nowrap;">Classic</span>
                            </div>
                            <span style="font-size: 10px; color: #888;">▼</span>
                        </button>
                        <div class="palette-dropdown-menu" id="paletteDropdownMenu">
                            <!-- Populated by JS -->
                        </div>
                    </div>
                </label>
            </div>
            
            <div class="settings-option">
                <label style="display: block; margin-bottom: 2px; font-size: 14px; color: #ccc;">
                    Piece Opacity: <span id="opacityDisplay" style="color: #aaa;">42%</span>
                </label>
                <input type="range" id="opacitySlider" min="0" max="100" step="1" value="42" 
                       style="width: 100%; cursor: pointer;">
                <div style="display: flex; justify-content: space-between; font-size: 11px; color: #888; margin-top: 4px;">
                    <span>Transparent</span>
                    <span>Opaque</span>
                </div>
            </div>
            
            <div class="settings-option">
                <label class="toggle-label">
                    <span class="toggle-label-text">Background Storm Effects</span>
                    <div class="toggle-switch">
                        <input type="checkbox" id="stormEffectsToggle" checked>
                        <span class="toggle-slider"></span>
                    </div>
                </label>
                <div class="settings-desc" style="font-size: 11px; color: #888; margin-top: 4px; margin-left: 48px;">
                    Shows rain/sleet/snow in the background.
                </div>
            </div>
            
            <div class="settings-option">
                <label class="toggle-label">
                    <span class="toggle-label-text">Reverse Camera</span>
                    <div class="toggle-switch">
                        <input type="checkbox" id="cameraOrientationToggle">
                        <span class="toggle-slider"></span>
                    </div>
                </label>
                <div class="settings-desc" style="font-size: 11px; color: #888; margin-top: 4px; margin-left: 48px;">
                    Sun is behind, planets move toward the camera instead of away from it.
                </div>
            </div>
            
            <div class="settings-option">
                <label style="display: block; margin-bottom: 2px; font-size: 14px; color: #ccc;">
                    Starfield Speed
                </label>
                <input type="range" id="starSpeedSlider" min="0" max="4" step="0.5" value="1" 
                       style="width: 100%; cursor: pointer;">
                <div style="display: flex; justify-content: space-between; font-size: 11px; color: #888; margin-top: 4px;">
                    <span>Off/Slow</span>
                    <span>Fast</span>
                </div>
            </div>
            
            <div class="settings-option" id="minimalistOption">
                <label class="toggle-label">
                    <span class="toggle-label-text">Minimalist Mode</span>
                    <div class="toggle-switch">
                        <input type="checkbox" id="minimalistToggle">
                        <span class="toggle-slider"></span>
                    </div>
                </label>
                <div class="settings-desc" style="font-size: 11px; color: #888; margin-top: 4px; margin-left: 48px;">
                    Hides UI, transparent well, alternate Sun
                </div>
            </div>
            
            <div class="settings-option" id="aiModeOption" style="border-bottom: none;">
                <label class="toggle-label">
                    <span class="toggle-label-text">🤖 AI Mode</span>
                    <div class="toggle-switch">
                        <input type="checkbox" id="aiModeToggle">
                        <span class="toggle-slider"></span>
                    </div>
                </label>
                <div class="settings-desc" style="font-size: 11px; color: #888; margin-top: 4px; margin-left: 48px;">
                    Let Claude play the game automatically
                </div>
            </div>
            
            <div class="settings-option" id="aiSpeedOption" style="display: none;">
                <label style="display: block; margin-bottom: 2px; font-size: 14px; color: #ccc;">
                    AI Speed
                </label>
                <input type="range" id="aiSpeedSlider" min="1" max="10" step="1" value="5" 
                       style="width: 100%; cursor: pointer;">
                <div style="display: flex; justify-content: space-between; font-size: 11px; color: #888; margin-top: 4px;">
                    <span>Slow</span>
                    <span>Fast</span>
                </div>
            </div>
            
                </div><!-- end settings-column-left -->
                
                <div class="settings-column-right">
            <!-- Controls Configuration Section -->
            <div class="controls-config-section">
                <div class="controls-config-title">🎮 Controls</div>
                <div id="controlsConfigContainer">
                    <!-- Populated by controls-config.js -->
                </div>
            </div>
                </div><!-- end settings-column-right -->
            </div><!-- end settings-columns -->
            
            <button class="settings-close-btn" id="settingsCloseBtn">Close</button>
        </div>
    </div>

    <!-- Combo Challenge Modal -->
    <div class="combo-modal-overlay" id="comboModalOverlay">
        <div class="combo-modal">
            <div class="combo-modal-title">🎯 Select Challenge Combination</div>
            <div class="combo-bonus-display" id="comboBonusDisplay">
                Score Bonus: <span id="comboBonusPercent">0%</span>
            </div>
            
            <div class="combo-checkboxes-grid">
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboStranger" value="stranger">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Stranger (Upside Down) +7%</span>
                </label>
                <div class="challenge-description">Entire screen rotates 180°, pieces fall upward</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboPhantom" value="phantom">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Phantom (Invisible Stack) +7%</span>
                </label>
                <div class="challenge-description">Stack fades out after each piece lands</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboRubber" value="rubber">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Rubber & Glue (Bouncing) +5%</span>
                </label>
                <div class="challenge-description">Pieces bounce if they don't touch same-colored blobs</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboOz" value="oz">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Oz (Grayscale Until Landing) +5%</span>
                </label>
                <div class="challenge-description">Falling pieces are grayscale, reveal color on landing</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboThinner" value="thinner">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Thinner (Skinny Well) +4%</span>
                </label>
                <div class="challenge-description">Blocks are half as wide, making a narrow well</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboThicker" value="thicker">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Thicker (Wide Well) +3%</span>
                </label>
                <div class="challenge-description">Well is 2/3 height and 20% wider, creating a wide playing field</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboCarrie" value="carrie">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Carrie (Blood Rain) +3%</span>
                </label>
                <div class="challenge-description">Blood rains down and runs down the stack</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboNokings" value="nokings">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>No Kings (Poo Rain) +3%</span>
                </label>
                <div class="challenge-description">Poo rains down and runs down the stack</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboLongAgo" value="longago">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Long Ago... (Star Wars Perspective) +4%</span>
                </label>
                <div class="challenge-description">Well tilts back in 3D perspective like Star Wars opening</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboComingSoon" value="comingsoon">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Coming Soon... (Inverse Star Wars Perspective) +4%</span>
                </label>
                <div class="challenge-description">Well tilts forward - pieces drop into distance</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboNervous" value="nervous">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Nervous (Vibrating Well) +2%</span>
                </label>
                <div class="challenge-description">The entire well vibrates up and down constantly</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboSixSeven" value="sixseven">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Six Seven (???) +4%</span>
                </label>
                <div class="challenge-description">???</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboGremlins" value="gremlins">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Gremlins (Chaos Blocks) +6%</span>
                </label>
                <div class="challenge-description">Blocks randomly appear or disappear from the stack</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboLattice" value="lattice">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Lattice (Pre-filled Blocks) +5%</span>
                </label>
                <div class="challenge-description">Start with random blocks in bottom half of well</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboYesAnd" value="yesand">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Yes, And... (Base Reality+) +5%</span>
                </label>
                <div class="challenge-description">Pieces spawn random extra blocks when they land</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboMercurial" value="mercurial">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Mercurial (Color-Shifting Pieces) +4%</span>
                </label>
                <div class="challenge-description">Falling pieces randomly change color every 2-4 seconds</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboDyslexic" value="dyslexic">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Dyslexic (Reversed Controls) +6%</span>
                </label>
                <div class="challenge-description">Left and right controls are swapped</div>
            </div>
            
            <div class="combo-checkbox-option">
                <label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="comboShadowless" value="shadowless">
                        <span class="toggle-slider"></span>
                    </div>
                    <span>Shadowless (No Drop Preview) +3%</span>
                </label>
                <div class="challenge-description">Hides the shadow showing where pieces will land</div>
            </div>
			
            </div> <!-- End of combo-checkboxes-grid -->
            
            <div class="combo-buttons">            
				<div class="combo-modal-buttons">
					<button class="combo-modal-btn cancel" id="comboCancelBtn">Cancel</button>
					<button class="combo-modal-btn apply" id="comboApplyBtn">Apply</button>
				</div>
			</div>
		</div>
    </div>
	
    <!-- Name Entry Modal (moved outside game-container for proper layout) -->
    <div class="name-entry-overlay" id="nameEntryOverlay">
        <div class="name-entry-popup">
            <div class="name-entry-title">🏆 High Score! 🏆</div>
            <div class="name-entry-message">
                Congratulations! Your score of <span class="name-entry-score" id="nameEntryScore"></span> 
                made it to the top 20!
                <br><br>
                Enter your name for the leaderboard:
            </div>
            <input type="text" 
                   id="nameEntryInput" 
                   class="name-entry-input" 
                   placeholder="Enter your name" 
                   maxlength="20"
                   autocomplete="off"
                   inputmode="text"
                   enterkeyhint="done"
                   autocapitalize="words"
                   autocorrect="off">
            <button id="nameEntrySubmit" class="name-entry-button">Submit Score</button>
        </div>
    </div>
    
    <!-- Login Modal (from auth.js) -->
    <div class="modal-overlay" id="loginModal">
        <div class="auth-modal">
            <button class="modal-close" onclick="hideLoginModal()">&times;</button>
            
            <h2 id="modalTitle">LOGIN</h2>
            
            <div class="error-message" id="loginError"></div>
            
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group" id="usernameGroup" style="display: none;">
                    <label>USERNAME</label>
                    <input type="text" id="username" name="username" autocomplete="username">
                </div>
                
                <div class="form-group">
                    <label>EMAIL</label>
                    <input type="email" id="email" name="email" required autocomplete="email">
                </div>
                
                <div class="form-group">
                    <label>PASSWORD</label>
                    <input type="password" id="password" name="password" required autocomplete="current-password">
                </div>
                
                <div style="text-align: right; margin-bottom: 15px;">
                    <a href="https://official-intelligence.art/reset-password" style="font-size: 12px; color: rgba(255,255,255,0.6);">Forgot password?</a>
                </div>
                
                <button type="submit" class="auth-submit-btn" id="submitBtn">ENTER</button>
            </form>
            
            <div class="auth-divider">OR</div>
            
            <div class="oauth-buttons">
                <a href="https://official-intelligence-api.onrender.com/auth/google/login" class="oauth-btn">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                    Continue with Google
                </a>
            </div>
            
            <div class="auth-footer">
                <span id="authToggleText">No account?</span>
                <a href="#" id="authToggle" onclick="toggleAuthMode(event)">Sign up</a>
            </div>
        </div>
    </div>
	
	<script src="auth.js"></script>
	<script src="leaderboard.js"></script>
	<script src="storm-effects.js"></script>
	<script src="render-utils.js"></script>
	<script src="audio.js"></script>
	<script src="starfield.js"></script>
	<script src="controls-config.js"></script>
	<script src="game-recorder.js"></script>
	<script src="histogram.js"></script>
	<script src="color-palettes.js"></script>
	<script src="ai-player.js"></script>
	<script src="game.js"></script>
	<script src="settings-sync.js"></script>

</body>
</html>
